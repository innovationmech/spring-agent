name: æ ‡è®°è¿‡æœŸ Issues å’Œ PRs

on:
  schedule:
    # æ¯å¤©å‡Œæ™¨ 1 ç‚¹è¿è¡Œ
    - cron: '0 1 * * *'
  workflow_dispatch:

jobs:
  stale:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      pull-requests: write
    
    steps:
      - uses: actions/stale@v10
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          
          # Issues é…ç½®
          days-before-stale: 60
          days-before-close: 14
          stale-issue-message: |
            ğŸ‘‹ æ­¤ Issue å·²ç» 60 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            
            ä¸ºäº†ä¿æŒé¡¹ç›®æ•´æ´ï¼Œæˆ‘ä»¬å°†åœ¨ 14 å¤©åè‡ªåŠ¨å…³é—­æ­¤ Issueã€‚
            
            å¦‚æœè¿™ä¸ªé—®é¢˜ä»ç„¶å­˜åœ¨æˆ–ç›¸å…³ï¼Œè¯·ï¼š
            - æ·»åŠ è¯„è®ºè¯´æ˜å½“å‰çŠ¶æ€
            - æä¾›æ›´å¤šä¿¡æ¯æˆ–ä¸Šä¸‹æ–‡
            - å¦‚æœå·²è§£å†³ï¼Œè¯·å…³é—­æ­¤ Issue
            
            æ„Ÿè°¢æ‚¨çš„ç†è§£ï¼ğŸ™
          stale-issue-label: 'stale'
          close-issue-message: |
            ğŸ”’ æ­¤ Issue å·²è‡ªåŠ¨å…³é—­ï¼Œå› ä¸ºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ã€‚
            
            å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·éšæ—¶é‡æ–°æ‰“å¼€æˆ–åˆ›å»ºæ–°çš„ Issueã€‚
            
            æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼
          
          # PR é…ç½®
          days-before-pr-stale: 30
          days-before-pr-close: 14
          stale-pr-message: |
            ğŸ‘‹ æ­¤ Pull Request å·²ç» 30 å¤©æ²¡æœ‰æ´»åŠ¨äº†ã€‚
            
            ä¸ºäº†ä¿æŒé¡¹ç›®æ•´æ´ï¼Œæˆ‘ä»¬å°†åœ¨ 14 å¤©åè‡ªåŠ¨å…³é—­æ­¤ PRã€‚
            
            å¦‚æœæ‚¨ä»åœ¨è¿›è¡Œè¿™é¡¹å·¥ä½œï¼Œè¯·ï¼š
            - æ·»åŠ è¯„è®ºè¯´æ˜å½“å‰è¿›åº¦
            - æ¨é€æ–°çš„æäº¤
            - è¯·æ±‚å®¡æŸ¥
            
            å¦‚æœå·²ç»ä¸å†ç›¸å…³ï¼Œå¯ä»¥å…³é—­æ­¤ PRã€‚
            
            æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼ğŸ™
          stale-pr-label: 'stale'
          close-pr-message: |
            ğŸ”’ æ­¤ Pull Request å·²è‡ªåŠ¨å…³é—­ï¼Œå› ä¸ºé•¿æ—¶é—´æ²¡æœ‰æ´»åŠ¨ã€‚
            
            å¦‚æœæ‚¨ä»æƒ³ç»§ç»­è¿™é¡¹å·¥ä½œï¼Œè¯·éšæ—¶é‡æ–°æ‰“å¼€æˆ–åˆ›å»ºæ–°çš„ PRã€‚
            
            æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼
          
          # è±å…æ ‡ç­¾ï¼ˆå…·æœ‰è¿™äº›æ ‡ç­¾çš„ä¸ä¼šè¢«æ ‡è®°ä¸ºè¿‡æœŸï¼‰
          exempt-issue-labels: 'pinned,security,enhancement,good-first-issue'
          exempt-pr-labels: 'pinned,security,work-in-progress'
          
          # è±å…åˆ†é…äººï¼ˆå·²åˆ†é…çš„ä¸ä¼šè¢«æ ‡è®°ä¸ºè¿‡æœŸï¼‰
          exempt-assignees: true
          
          # è±å…é‡Œç¨‹ç¢‘ï¼ˆåœ¨é‡Œç¨‹ç¢‘ä¸­çš„ä¸ä¼šè¢«æ ‡è®°ä¸ºè¿‡æœŸï¼‰
          exempt-milestones: true
          
          # ä»…æ ‡è®°ï¼Œä¸å…³é—­ï¼ˆè®¾ç½®ä¸º true åˆ™åªæ ‡è®°ä¸å…³é—­ï¼‰
          operations-per-run: 100
          
          # åˆ é™¤è¿‡æœŸæ ‡ç­¾çš„æ¡ä»¶
          remove-stale-when-updated: true
          
          # æ˜¯å¦å…³é—­å·²æ ‡è®°ä¸ºè¿‡æœŸçš„ Issues/PRs
          delete-branch: false
          
          # æ—¥å¿—çº§åˆ«
          debug-only: false

